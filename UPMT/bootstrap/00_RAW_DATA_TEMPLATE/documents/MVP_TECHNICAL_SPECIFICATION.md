# –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï
## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ MVP –ø—Ä–æ–µ–∫—Ç–∞ "–°–≤–æ–π –ö—Ä—É–≥"

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025  
**–°—Ä–æ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** 10-12 –Ω–µ–¥–µ–ª—å  
**–†–µ–∂–∏–º:** Solo-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞  

---

## –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–æ–±—â–∏–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-—Ä–µ—à–µ–Ω–∏—è)
3. [MVP Scope (—á—Ç–æ –≤—Ö–æ–¥–∏—Ç –∏ —á—Ç–æ –ù–ï –≤—Ö–æ–¥–∏—Ç)](#mvp-scope)
4. [–°–ø—Ä–∏–Ω—Ç—ã –∏ –∑–∞–¥–∞—á–∏](#—Å–ø—Ä–∏–Ω—Ç—ã-–∏-–∑–∞–¥–∞—á–∏)
5. [–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏](#–∫—Ä–∏—Ç–µ—Ä–∏–∏-–ø—Ä–∏–µ–º–∫–∏)
6. [Deployment](#deployment)

---

## –û–ë–©–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### –¶–µ–ª—å MVP
–°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π:
1. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏—Ü –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ
2. –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–∞—Ä—Ç—ã –ø—Ä–∏ –ø–æ–∫—É–ø–∫–∞—Ö
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª—è—Ç—å –±–æ–Ω—É—Å—ã
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
5. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
6. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –º–∏–Ω–∏–º—É–º —Å 2 –±–∏–∑–Ω–µ—Å–∞–º–∏ (–õ–∏—Å–∏—á–∫–∏–Ω–æ + –ú–∏–Ω–¥–∞–ª—å)

### –ù–ï –≤—Ö–æ–¥–∏—Ç –≤ MVP
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π (–≤–µ—Ä—Å–∏—è 2.0)
- AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–≤–µ—Ä—Å–∏—è 2.0)
- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–≤–µ—Ä—Å–∏—è 2.0)
- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (–≤–µ—Ä—Å–∏—è 1.5)
- –°–ª–æ–∂–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- Solo-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Å—Ç—ã–º —Ä–µ—à–µ–Ω–∏—è–º
- –ë—é–¥–∂–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã: –¥–æ 15,000‚ÇΩ/–º–µ—Å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ managed-—Å–µ—Ä–≤–∏—Å–æ–≤ (PostgreSQL, Redis)
- –ú–∏–Ω–∏–º—É–º –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–æ–¥–∞, –º–∞–∫—Å–∏–º—É–º –≥–æ—Ç–æ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

---

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### Backend

**–í—ã–±–æ—Ä: Python + FastAPI**

–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:
- –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API
- –û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (auto Swagger UI)
- Async –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –•–æ—Ä–æ—à–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**

```
backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (env variables)
‚îÇ   ‚îú‚îÄ‚îÄ database.py          # SQLAlchemy setup
‚îÇ   ‚îú‚îÄ‚îÄ dependencies.py      # Dependency injection
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/              # SQLAlchemy ORM –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transaction.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ business.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bonus.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ schemas/             # Pydantic —Å—Ö–µ–º—ã (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transaction.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ loyalty.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ api/                 # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ v1/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py      # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.py     # –ü—Ä–æ—Ñ–∏–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loyalty.py   # –ë–æ–Ω—É—Å—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transactions.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ businesses.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loyalty_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sms_service.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ integration_service.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ integrations/        # –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã –∫ CRM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py          # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ yclients.py      # YCLIENTS (–ú–∏–Ω–¥–∞–ª—å)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ iiko.py          # Iiko (–õ–∏—Å–∏—á–∫–∏–Ω–æ)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.py      # JWT, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helpers.py
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ tasks/               # Celery –∑–∞–¥–∞—á–∏
‚îÇ       ‚îú‚îÄ‚îÄ sync_tasks.py    # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å CRM
‚îÇ       ‚îî‚îÄ‚îÄ notification_tasks.py
‚îÇ
‚îú‚îÄ‚îÄ alembic/                 # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ versions/
‚îÇ   ‚îî‚îÄ‚îÄ env.py
‚îÇ
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_auth.py
‚îÇ   ‚îú‚îÄ‚îÄ test_loyalty.py
‚îÇ   ‚îî‚îÄ‚îÄ test_integrations.py
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ docker-compose.yml
```

**requirements.txt:**

```txt
# Core
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-dotenv==1.0.0

# Database
sqlalchemy==2.0.23
alembic==1.12.1
psycopg2-binary==2.9.9

# Validation
pydantic==2.5.0
pydantic-settings==2.1.0
email-validator==2.1.0

# Auth & Security
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6

# Tasks
celery==5.3.4
redis==5.0.1

# HTTP Client (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π)
httpx==0.25.2

# SMS (–¥–ª—è –∫–æ–¥–æ–≤ –≤—Ö–æ–¥–∞)
# TODO: –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (SMSC.ru / SMS.ru)

# Monitoring
sentry-sdk[fastapi]==1.38.0

# Dev/Test
pytest==7.4.3
pytest-asyncio==0.21.1
```

### Frontend

**–í—ã–±–æ—Ä: React Native**

–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:
- –û–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –¥–ª—è iOS –∏ Android
- –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ë–æ–ª—å—à–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**

```
mobile/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ navigation/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RootNavigator.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthNavigator.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainTabNavigator.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WelcomeScreen.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegisterScreen.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LoginScreen.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HomeScreen.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProfileScreen.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qr/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QRWalletScreen.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ businesses/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ BusinessesScreen.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loyalty/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GamificationRing.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatusBadge.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BonusCard.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qr/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ QRCodeDisplay.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ store/               # Redux Toolkit
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ slices/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authSlice.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userSlice.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ loyaltySlice.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/             # RTK Query
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ authApi.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ userApi.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ loyaltyApi.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ theme/               # Tiffany-—Å—Ç–∏–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ colors.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ typography.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ spacing.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ liquidGlass.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.ts       # AsyncStorage wrapper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ formatters.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ types/
‚îÇ       ‚îî‚îÄ‚îÄ index.ts         # TypeScript —Ç–∏–ø—ã
‚îÇ
‚îú‚îÄ‚îÄ android/
‚îú‚îÄ‚îÄ ios/
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

**package.json (–æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏):**

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.73.0",
    "@react-navigation/native": "^6.1.9",
    "@react-navigation/stack": "^6.3.20",
    "@react-navigation/bottom-tabs": "^6.5.11",
    "@reduxjs/toolkit": "^2.0.0",
    "react-redux": "^9.0.0",
    "react-native-paper": "^5.11.0",
    "@react-native-async-storage/async-storage": "^1.21.0",
    "react-native-qrcode-svg": "^6.2.0",
    "react-native-vision-camera": "^3.6.0",
    "react-native-svg": "^14.0.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    "@sentry/react-native": "^5.15.0"
  }
}
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**PostgreSQL 15 (managed –Ω–∞ Yandex Cloud)**

**–°—Ö–µ–º–∞ –ë–î –¥–ª—è MVP:**

```sql
-- –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  phone VARCHAR(20) UNIQUE NOT NULL,
  email VARCHAR(255),
  first_name VARCHAR(100) NOT NULL,
  last_name VARCHAR(100) NOT NULL,
  avatar_url TEXT,
  birth_date DATE,
  city VARCHAR(100),
  status VARCHAR(20) DEFAULT 'insider',
  qr_code VARCHAR(50) UNIQUE NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  is_active BOOLEAN DEFAULT TRUE
);

-- SMS-–ö–û–î–´ –î–õ–Ø –í–•–û–î–ê
CREATE TABLE sms_codes (
  id SERIAL PRIMARY KEY,
  phone VARCHAR(20) NOT NULL,
  code VARCHAR(6) NOT NULL,
  expires_at TIMESTAMP NOT NULL,
  is_used BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- REFRESH –¢–û–ö–ï–ù–´
CREATE TABLE refresh_tokens (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  token TEXT UNIQUE NOT NULL,
  expires_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –ë–ò–ó–ù–ï–°–´
CREATE TABLE businesses (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(255) NOT NULL,
  category VARCHAR(50) NOT NULL,
  description TEXT,
  logo_url TEXT,
  address TEXT,
  phone VARCHAR(20),
  integration_type VARCHAR(50), -- yclients/iiko/1c/manual
  integration_config JSONB, -- –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –¢–†–ê–ù–ó–ê–ö–¶–ò–ò
CREATE TABLE transactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  business_id UUID REFERENCES businesses(id),
  amount DECIMAL(10,2) NOT NULL,
  bonuses_earned DECIMAL(10,2) DEFAULT 0,
  category VARCHAR(50),
  description TEXT,
  external_id VARCHAR(255), -- ID –∏–∑ CRM –±–∏–∑–Ω–µ—Å–∞
  source VARCHAR(50) DEFAULT 'manual', -- manual/api/qr
  transaction_date TIMESTAMP DEFAULT NOW(),
  created_at TIMESTAMP DEFAULT NOW()
);

-- –ë–û–ù–£–°–ù–´–ï –°–ß–ï–¢–ê
CREATE TABLE bonus_accounts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) UNIQUE,
  total_bonuses DECIMAL(10,2) DEFAULT 0,
  available_bonuses DECIMAL(10,2) DEFAULT 0,
  updated_at TIMESTAMP DEFAULT NOW()
);

-- –ò–°–¢–û–†–ò–Ø –ë–û–ù–£–°–û–í
CREATE TABLE bonus_transactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  type VARCHAR(20) NOT NULL, -- earned/spent
  amount DECIMAL(10,2) NOT NULL,
  source_transaction_id UUID REFERENCES transactions(id),
  description TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –ò–ù–î–ï–ö–°–´
CREATE INDEX idx_users_phone ON users(phone);
CREATE INDEX idx_users_qr ON users(qr_code);
CREATE INDEX idx_transactions_user ON transactions(user_id, transaction_date DESC);
CREATE INDEX idx_transactions_business ON transactions(business_id);
CREATE INDEX idx_bonus_tx_user ON bonus_transactions(user_id, created_at DESC);
```

---

## MVP SCOPE

### –ß–¢–û –í–•–û–î–ò–¢ –í MVP

#### 1. –ú–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```
‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É + SMS
‚úÖ –í—Ö–æ–¥ –ø–æ SMS-–∫–æ–¥—É
‚úÖ JWT —Ç–æ–∫–µ–Ω—ã (access + refresh)
‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ QR-–∫–æ–¥–∞
```

#### 2. –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (Insider/VIP/Elite)
```

#### 3. QR-–ö–æ—à–µ–ª–µ–∫
```
‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ QR-–∫–æ–¥–∞
‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —É—á–∞—Å—Ç–Ω–∏—Ü—ã
‚úÖ –ë–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤
‚úÖ –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≤ Apple Wallet" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

#### 4. –°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
```
‚úÖ –†–∞—Å—á–µ—Ç –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤
‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚úÖ –†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞—Ç –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
```

#### 5. –ö–æ–ª—å—Ü–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (Gamification)
```
‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∏ "–û—Å—Ç–∞–ª–æ—Å—å X‚ÇΩ –∏ Y –∫–∞—Ç–µ–≥–æ—Ä–∏–π"
```

#### 6. –ö–∞—Ç–∞–ª–æ–≥ –±–∏–∑–Ω–µ—Å–æ–≤
```
‚úÖ –°–ø–∏—Å–æ–∫ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∞–¥—Ä–µ—Å–∞
‚úÖ –¢–µ–∫—É—â–∏–µ –∞–∫—Ü–∏–∏
```

#### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–º–∏–Ω–∏–º—É–º 2)
```
‚úÖ YCLIENTS (–ú–∏–Ω–¥–∞–ª—å)
‚úÖ Iiko (–õ–∏—Å–∏—á–∫–∏–Ω–æ)
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```

#### 8. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–±–∞–∑–æ–≤–∞—è)
```
‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
‚úÖ –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–æ–ª-–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
```

### –ß–¢–û –ù–ï –í–•–û–î–ò–¢ (–æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ v1.5 –∏ v2.0)

```
‚ùå –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (Events Hub)
‚ùå –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
‚ùå –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
‚ùå –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚ùå AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚ùå –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–æ–≤
‚ùå Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ email)
‚ùå –ß–∞—Ç / —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞
‚ùå NFT-–±–µ–π–¥–∂–∏
```

---

## –°–ü–†–ò–ù–¢–´ –ò –ó–ê–î–ê–ß–ò

### –°–ü–†–ò–ù–¢ 1 (–ù–µ–¥–µ–ª–∏ 1-2): –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### Backend –∑–∞–¥–∞—á–∏:

**1.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```bash
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç FastAPI
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Docker + docker-compose
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL (–ª–æ–∫–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏)
- [ ] –°–æ–∑–¥–∞—Ç—å CI/CD –ø–∞–π–ø–ª–∞–π–Ω (GitHub Actions)
```

**1.2. –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```python
- [ ] –ú–æ–¥–µ–ª—å User (models/user.py)
- [ ] –ú–æ–¥–µ–ª—å SMSCode (models/sms.py)
- [ ] –ú–æ–¥–µ–ª—å RefreshToken (models/token.py)
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è users, sms_codes, refresh_tokens
```

**1.3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
```python
- [ ] Endpoint POST /api/v1/auth/register
- [ ] Endpoint POST /api/v1/auth/login/send-code
- [ ] Endpoint POST /api/v1/auth/login/verify-code
- [ ] Endpoint POST /api/v1/auth/refresh
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤ (utils/security.py)
- [ ] Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SMS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º (SMSC.ru)
```

**1.4. –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```python
- [ ] Endpoint GET /api/v1/users/me
- [ ] Endpoint PATCH /api/v1/users/me
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ QR-–∫–æ–¥–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–∞:**
- –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ API
- –ú–æ–∂–Ω–æ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ SMS-–∫–æ–¥
- –ü–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω
- –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å

#### Frontend –∑–∞–¥–∞—á–∏:

**1.5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```bash
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è React Native –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (React Navigation)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redux Toolkit + RTK Query
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–º—ã (Tiffany-–ø–∞–ª–∏—Ç—Ä–∞)
```

**1.6. –≠–∫—Ä–∞–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
```typescript
- [ ] WelcomeScreen (–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ)
- [ ] RegisterScreen (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
  - –ü–æ–ª—è: –∏–º—è, —Ñ–∞–º–∏–ª–∏—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è
  - –û—Ç–ø—Ä–∞–≤–∫–∞ SMS
- [ ] LoginScreen (–≤—Ö–æ–¥)
  - –í–≤–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
  - –í–≤–æ–¥ –∫–æ–¥–∞ –∏–∑ SMS
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

**1.7. –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤**
```typescript
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ access/refresh —Ç–æ–∫–µ–Ω–æ–≤ –≤ AsyncStorage
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- [ ] Logout —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –ü–æ–ª—É—á–∏—Ç—å SMS-–∫–æ–¥
- –í–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

---

### –°–ü–†–ò–ù–¢ 2 (–ù–µ–¥–µ–ª–∏ 3-4): –ë–æ–Ω—É—Å—ã –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### Backend –∑–∞–¥–∞—á–∏:

**2.1. –ú–æ–¥–µ–ª–∏ –¥–ª—è –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏**
```python
- [ ] –ú–æ–¥–µ–ª—å Business (models/business.py)
- [ ] –ú–æ–¥–µ–ª—å Transaction (models/transaction.py)
- [ ] –ú–æ–¥–µ–ª—å BonusAccount (models/bonus.py)
- [ ] –ú–æ–¥–µ–ª—å BonusTransaction (models/bonus.py)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
```

**2.2. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±–æ–Ω—É—Å–æ–≤**
```python
- [ ] –°–µ—Ä–≤–∏—Å —Ä–∞—Å—á–µ—Ç–∞ –±–æ–Ω—É—Å–æ–≤ (services/loyalty_service.py)
  - calculate_bonuses(amount, user_status, is_new_category)
  - accrue_bonuses(user_id, amount, transaction_id)
  - update_user_status(user_id)
- [ ] –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
  - create_transaction(user_id, business_id, amount)
  - get_user_transactions(user_id, limit, offset)
```

**2.3. API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**
```python
- [ ] POST /api/v1/transactions (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- [ ] GET /api/v1/transactions (—Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —é–∑–µ—Ä–∞)
- [ ] GET /api/v1/loyalty/balance (–±–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤)
- [ ] GET /api/v1/loyalty/status-progress (–ø—Ä–æ–≥—Ä–µ—Å—Å —Å—Ç–∞—Ç—É—Å–∞)
- [ ] GET /api/v1/businesses (—Å–ø–∏—Å–æ–∫ –±–∏–∑–Ω–µ—Å–æ–≤)
```

**2.4. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–ø—Ä–æ—Å—Ç–∞—è)**
```python
- [ ] POST /api/v1/admin/transactions (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- [ ] GET /api/v1/admin/users (—Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- [ ] GET /api/v1/admin/stats (–±–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –ë–æ–Ω—É—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è
- –°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –≤–≤–æ–¥–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### Frontend –∑–∞–¥–∞—á–∏:

**2.5. –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω**
```typescript
- [ ] HomeScreen
  - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç GamificationRing (–∫–æ–ª—å—Ü–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
  - –°–µ–∫—Ü–∏—è —Å –±–∞–ª–∞–Ω—Å–æ–º –±–æ–Ω—É—Å–æ–≤
  - –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (3-5)
```

**2.6. QR-–ö–æ—à–µ–ª–µ–∫**
```typescript
- [ ] QRWalletScreen
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ QR-–∫–æ–¥–∞ (react-native-qrcode-svg)
  - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  - –°—Ç–∞—Ç—É—Å (badge)
  - –ë–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤ (–∫—Ä—É–ø–Ω–æ)
```

**2.7. –ü—Ä–æ—Ñ–∏–ª—å**
```typescript
- [ ] ProfileScreen
  - –ê–≤–∞—Ç–∞—Ä, –∏–º—è, —Å—Ç–∞—Ç—É—Å
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ–∫—É–ø–∫–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –±–æ–Ω—É—Å—ã)
  - –ö–Ω–æ–ø–∫–∞ "–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"
- [ ] TransactionHistoryScreen (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
```

**2.8. –ö–∞—Ç–∞–ª–æ–≥ –±–∏–∑–Ω–µ—Å–æ–≤**
```typescript
- [ ] BusinessesScreen (—Å–ø–∏—Å–æ–∫ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤)
- [ ] BusinessDetailScreen (–¥–µ—Ç–∞–ª–∏ –±–∏–∑–Ω–µ—Å–∞)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
- QR-–∫–æ—à–µ–ª–µ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ—Ñ–∏–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –°–ü–†–ò–ù–¢ 3 (–ù–µ–¥–µ–ª–∏ 5-6): –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CRM

#### Backend –∑–∞–¥–∞—á–∏:

**3.1. –ë–∞–∑–æ–≤—ã–π –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä**
```python
- [ ] –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å IntegrationConnector
  - fetch_transactions(date_from, date_to)
  - parse_transactions(raw_data)
  - sync()
```

**3.2. –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä YCLIENTS**
```python
- [ ] ConnectorYCLIENTS (integrations/yclients.py)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π (appointments)
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- [ ] –¢–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
```

**3.3. –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä Iiko**
```python
- [ ] ConnectorIiko (integrations/iiko.py)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —á–µ–∫–æ–≤
- [ ] –ü–∞—Ä—Å–∏–Ω–≥
- [ ] –¢–µ—Å—Ç—ã
```

**3.4. Celery –∑–∞–¥–∞—á–∏**
```python
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Celery + Redis
- [ ] –ó–∞–¥–∞—á–∞ sync_all_businesses() (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)
- [ ] –ó–∞–¥–∞—á–∞ sync_single_business(business_id)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```

**3.5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å–æ–≤**
```python
- [ ] API –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞
- [ ] POST /api/v1/admin/businesses
- [ ] PATCH /api/v1/admin/businesses/{id} (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å YCLIENTS —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Iiko —Ä–∞–±–æ—Ç–∞–µ—Ç
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- –ë–æ–Ω—É—Å—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

#### Frontend –∑–∞–¥–∞—á–∏:

**3.6. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (email)**
```typescript
- [ ] Email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] Email –ø—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ –±–æ–Ω—É—Å–æ–≤
- [ ] Email –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞
```

**3.7. –ü–æ–ª–∏—Ä–æ–≤–∫–∞ UX**
```typescript
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] Skeleton loaders (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
- [ ] Pull-to-refresh –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] Error states (–∫—Ä–∞—Å–∏–≤—ã–µ —ç–∫—Ä–∞–Ω—ã –æ—à–∏–±–æ–∫)
```

**3.8. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
```typescript
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (RTK Query)
- [ ] Offline-—Ä–µ–∂–∏–º (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ QR –≤ AsyncStorage)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ
- –ö—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

---

### –°–ü–†–ò–ù–¢ 4 (–ù–µ–¥–µ–ª–∏ 7-8): –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π

#### Backend –∑–∞–¥–∞—á–∏:

**4.1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```python
- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è loyalty_service
- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è integration_service
- [ ] Integration-—Ç–µ—Å—Ç—ã –¥–ª—è API
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ >70%
```

**4.2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
```python
- [ ] Swagger UI (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ FastAPI)
- [ ] README –¥–ª—è –±—ç–∫–µ–Ω–¥–∞
- [ ] –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
```

**4.3. –î–µ–ø–ª–æ–π –Ω–∞ staging**
```bash
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Yandex Cloud
- [ ] –°–æ–∑–¥–∞—Ç—å managed PostgreSQL
- [ ] –°–æ–∑–¥–∞—Ç—å managed Redis
- [ ] –î–µ–ø–ª–æ–π –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ VM (Docker)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx + SSL
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ë—ç–∫–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ staging
- HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

#### Frontend –∑–∞–¥–∞—á–∏:

**4.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```typescript
- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] E2E —Ç–µ—Å—Ç—ã (Detox) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (iOS + Android)
```

**4.5. –ë–∏–ª–¥**
```bash
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Firebase (FCM –¥–ª—è –±—É–¥—É—â–∏—Ö push)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Sentry (crash reporting)
- [ ] –°–æ–∑–¥–∞—Ç—å production –±–∏–ª–¥—ã
  - iOS: TestFlight
  - Android: Internal Testing (Google Play)
```

**4.6. Onboarding**
```typescript
- [ ] –í–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –∫–ª—É–±–∞ (30 —Å–µ–∫)
- [ ] –°–ª–∞–π–¥—ã —Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ TestFlight (iOS)
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Internal Testing (Android)
- –ì–æ—Ç–æ–≤–æ –∫ –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

### –°–ü–†–ò–ù–¢ 5 (–ù–µ–¥–µ–ª–∏ 9-10): –ë–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ó–∞–¥–∞—á–∏:

**5.1. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–µ—Ä–æ–≤**
```
- [ ] –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å 50 —É—á–∞—Å—Ç–Ω–∏—Ü (–ø–æ 10 –æ—Ç –∫–∞–∂–¥–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞)
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [ ] –§–æ—Ä–º–∞ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
```

**5.2. –°–±–æ—Ä —Ñ–∏–¥–±–µ–∫–∞**
```
- [ ] –ê–Ω–∞–ª–∏–∑ –±–∞–≥–æ–≤
- [ ] –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ñ–∏–∫—Å–æ–≤
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤
```

**5.3. –ü–µ—Ä–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ**
```
- [ ] –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –≥–∞—Å—Ç—Ä–æ–≤–µ—á–µ—Ä –≤ –õ–∏—Å–∏—á–∫–∏–Ω–æ
- [ ] –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –ü–æ–º–æ—â—å —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
```

**5.4. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏**
```
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è UX –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–¥–±–µ–∫–∞
- [ ] –î–æ—Ä–∞–±–æ—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- [ ] –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∏–∫—Å—ã
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- 50 –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏—Ü
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- NPS > 50

---

### –°–ü–†–ò–ù–¢ 6 (–ù–µ–¥–µ–ª–∏ 11-12): Production –∏ –∑–∞–ø—É—Å–∫

#### –ó–∞–¥–∞—á–∏:

**6.1. Production –¥–µ–ø–ª–æ–π**
```bash
- [ ] –î–µ–ø–ª–æ–π –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ prod (Yandex Cloud)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Sentry, Grafana)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫–∞–ø–æ–≤ –ë–î (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ)
- [ ] Load testing (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**6.2. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```bash
- [ ] –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ App Store
- [ ] –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Google Play
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ store listings (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏—è)
```

**6.3. –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥**
```
- [ ] –ü–æ—Å—Ç–∏–Ω–≥ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –≤—Å–µ—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- [ ] QR-–∫–æ–¥—ã –≤ —Ç–æ—á–∫–∞—Ö –ø—Ä–æ–¥–∞–∂
- [ ] –§–ª–∞–µ—Ä—ã / –±—É–∫–ª–µ—Ç—ã
```

**6.4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
```
- [ ] –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- [ ] –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Å—Ç–æ—Ä–∞—Ö
- 200+ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∑–∞ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## –ö–†–ò–¢–ï–†–ò–ò –ü–†–ò–ï–ú–ö–ò MVP

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

```
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –ø–æ SMS-–∫–æ–¥—É
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–≤–æ–π QR-–∫–æ–¥
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –±–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –±–∏–∑–Ω–µ—Å–æ–≤-–ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä –±–∏–∑–Ω–µ—Å–∞ –º–æ–∂–µ—Ç –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR –∫–ª–∏–µ–Ω—Ç–∞ (–∏–ª–∏ –≤–≤–µ—Å—Ç–∏ ID)
‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –∏–∑ YCLIENTS
‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –∏–∑ Iiko
‚úÖ –ë–æ–Ω—É—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è
‚úÖ –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

‚úÖ –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –≤–≤–µ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
‚úÖ –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –±–∞–∑–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```

### –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

```
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ iOS 14+ –∏ Android 10+
‚úÖ –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API < 500ms (95 –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å)
‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã > 99% (uptime)
‚úÖ –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –†–§
‚úÖ HTTPS –≤–µ–∑–¥–µ
‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç (access) –∏ 30 –¥–Ω–µ–π (refresh)
```

### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞ MVP:

```
üéØ 200+ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∑–∞ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü
üéØ 15%+ NSM (–∫—Ä–æ—Å—Å-–ø–æ–∫—É–ø–∫–∏) –∫ –∫–æ–Ω—Ü—É 3-–≥–æ –º–µ—Å—è—Ü–∞
üéØ NPS > 60
üéØ 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤ –≤ production
```

---

## DEPLOYMENT

### Staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```yaml
Infrastructure:
  - Yandex Cloud Compute (VM)
  - 2 vCPU, 4GB RAM
  - Ubuntu 22.04

Database:
  - Managed PostgreSQL 15
  - db.t3.small (2 vCPU, 4GB RAM)
  - 20GB SSD

Cache:
  - Managed Redis 7
  - cache.t3.micro (1 vCPU, 1GB RAM)

Backend:
  - Docker + Docker Compose
  - Nginx (reverse proxy)
  - SSL (Let's Encrypt)
  - Celery workers (2)

Domain:
  - staging-api.svoy-krug.ru
```

### Production –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```yaml
Infrastructure:
  - Yandex Cloud Compute (VM)
  - 4 vCPU, 8GB RAM
  - Auto-scaling (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–∑–∂–µ)

Database:
  - Managed PostgreSQL 15
  - db.m5.large (4 vCPU, 8GB RAM)
  - 100GB SSD
  - Auto-backups (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)
  - Point-in-time recovery

Cache:
  - Managed Redis 7
  - cache.m5.large (2 vCPU, 4GB RAM)

Backend:
  - Docker + Kubernetes (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - Nginx (load balancer)
  - SSL (Let's Encrypt)
  - Celery workers (4)

Monitoring:
  - Sentry (errors)
  - Grafana (metrics)
  - Uptimerobot (uptime)

Domain:
  - api.svoy-krug.ru
```

### CI/CD Pipeline (GitHub Actions):

```yaml
# .github/workflows/deploy.yml

name: Deploy Backend

on:
  push:
    branches: [main, staging]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      - run: pip install -r requirements.txt
      - run: pytest
  
  deploy-staging:
    if: github.ref == 'refs/heads/staging'
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Deploy to staging
        run: |
          # SSH –≤ staging —Å–µ—Ä–≤–µ—Ä
          # docker-compose pull
          # docker-compose up -d
  
  deploy-production:
    if: github.ref == 'refs/heads/main'
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Deploy to production
        run: |
          # SSH –≤ prod —Å–µ—Ä–≤–µ—Ä
          # docker-compose pull
          # docker-compose up -d
```

---

## –ö–û–ù–¢–†–û–õ–¨–ù–´–ï –¢–û–ß–ö–ò

### –ù–µ–¥–µ–ª—è 2:
- ‚úÖ Backend: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Frontend: –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –ù–µ–¥–µ–ª—è 4:
- ‚úÖ Backend: –ë–æ–Ω—É—Å—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Frontend: –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –∏ QR-–∫–æ—à–µ–ª–µ–∫ —Ä–∞–±–æ—Ç–∞—é—Ç

### –ù–µ–¥–µ–ª—è 6:
- ‚úÖ Backend: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å YCLIENTS –∏ Iiko —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Frontend: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –ù–µ–¥–µ–ª—è 8:
- ‚úÖ Backend: –î–µ–ø–ª–æ–π –Ω–∞ staging
- ‚úÖ Frontend: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ TestFlight

### –ù–µ–¥–µ–ª—è 10:
- ‚úÖ 50 –±–µ—Ç–∞-—Ç–µ—Å—Ç–µ—Ä–æ–≤
- ‚úÖ –ü–µ—Ä–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ

### –ù–µ–¥–µ–ª—è 12:
- ‚úÖ Production –∑–∞–ø—É—Å–∫
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ App Store –∏ Google Play

---

## –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø –ò –ü–†–ï–î–ü–û–õ–û–ñ–ï–ù–ò–Ø

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- Solo-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫)
- –ë—é–¥–∂–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã: –¥–æ 15,000‚ÇΩ/–º–µ—Å
- –°—Ä–æ–∫: 12 –Ω–µ–¥–µ–ª—å
- –ü–µ—Ä–≤—ã–µ 2 –±–∏–∑–Ω–µ—Å–∞: –õ–∏—Å–∏—á–∫–∏–Ω–æ + –ú–∏–Ω–¥–∞–ª—å

### –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è:

- –ü–∞—Ä—Ç–Ω–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è—Ç –¥–æ—Å—Ç—É–ø –∫ API
- SMS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- –ë–µ—Ç–∞-—Ç–µ—Å—Ç–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤—É—é—Ç
- –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

---

## –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (POST-MVP)

### –í–µ—Ä—Å–∏—è 1.5 (—á–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞):

```
‚ûï –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚ûï Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚ûï –ë–∞–∑–æ–≤—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (–∫–∞–ª–µ–Ω–¥–∞—Ä—å + —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
‚ûï –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –µ—â–µ 3 –±–∏–∑–Ω–µ—Å–∞–º–∏
```

### –í–µ—Ä—Å–∏—è 2.0 (—á–µ—Ä–µ–∑ 6 –º–µ—Å—è—Ü–µ–≤):

```
‚ûï –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
‚ûï –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ —Å –≤–µ—Å–æ–º
‚ûï AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚ûï –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–æ–≤
‚ûï –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞
```

---

**–ì–û–¢–û–í –ö –°–¢–ê–†–¢–£ –†–ê–ó–†–ê–ë–û–¢–ö–ò** üöÄ

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Kickoff –≤—Å—Ç—Ä–µ—á–∞ —Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏ –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–≤ –∫ API.
